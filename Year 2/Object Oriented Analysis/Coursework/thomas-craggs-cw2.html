<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>CW2 - Thomas Craggs</title>
  <style>
html {
color: #1a1a1a;
background-color: #fdfdfd;
}
body {
margin: 0 auto;
max-width: 36em;
padding-left: 50px;
padding-right: 50px;
padding-top: 50px;
padding-bottom: 50px;
hyphens: auto;
overflow-wrap: break-word;
text-rendering: optimizeLegibility;
font-kerning: normal;
}
@media (max-width: 600px) {
body {
font-size: 0.9em;
padding: 12px;
}
h1 {
font-size: 1.8em;
}
}
@media print {
html {
background-color: white;
}
body {
background-color: transparent;
color: black;
font-size: 12pt;
}
p, h2, h3 {
orphans: 3;
widows: 3;
}
h2, h3, h4 {
page-break-after: avoid;
}
}
p {
margin: 1em 0;
}
a {
color: #1a1a1a;
}
a:visited {
color: #1a1a1a;
}
img {
max-width: 100%;
}
svg {
height: auto;
max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
margin-top: 1.4em;
}
h5, h6 {
font-size: 1em;
font-style: italic;
}
h6 {
font-weight: normal;
}
ol, ul {
padding-left: 1.7em;
margin-top: 1em;
}
li > ol, li > ul {
margin-top: 0;
}
blockquote {
margin: 1em 0 1em 1.7em;
padding-left: 1em;
border-left: 2px solid #e6e6e6;
color: #606060;
}
code {
font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
font-size: 85%;
margin: 0;
hyphens: manual;
}
pre {
margin: 1em 0;
overflow: auto;
}
pre code {
padding: 0;
overflow: visible;
overflow-wrap: normal;
}
.sourceCode {
background-color: transparent;
overflow: visible;
}
hr {
background-color: #1a1a1a;
border: none;
height: 1px;
margin: 1em 0;
}
table {
margin: 1em 0;
border-collapse: collapse;
width: 100%;
overflow-x: auto;
display: block;
font-variant-numeric: lining-nums tabular-nums;
}
table caption {
margin-bottom: 0.75em;
}
tbody {
margin-top: 0.5em;
border-top: 1px solid #1a1a1a;
border-bottom: 1px solid #1a1a1a;
}
th {
border-top: 1px solid #1a1a1a;
padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
margin-bottom: 4em;
text-align: center;
}
#TOC li {
list-style: none;
}
#TOC ul {
padding-left: 1.3em;
}
#TOC > ul {
padding-left: 0;
}
#TOC a:not(:hover) {
text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}

ul.task-list[class]{list-style: none;}
ul.task-list li input[type="checkbox"] {
font-size: inherit;
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
</style>
</head>
<body>
<h2 id="question-1">Question 1:</h2>
<ol type="1">
<li><h4 id="class-booking">Class <strong>Booking</strong>:</h4></li>
</ol>
<p><strong>Attributes</strong> <code>- bookingID: int [1]</code>
<code>- startDate: string [1]</code> <code>- duration: string [1]</code>
<code>- status: string [1] = &quot;on-hold&quot;</code>
<code>- userID: int [1]</code> <code>- resourceID: int [1]</code>
<code>- occupantsNum: int [0..1]</code>
<code>- transactionID: int [0..1]</code>
<code>- sqlHelper BookingSqlHelper[1]</code></p>
<p><strong>Operations</strong> <code>+ retriveID() : int</code>
<code>+ retriveStartDate() : String</code>
<code>+ retriveDuration() : int</code>
<code>+ retriveStatus(String status) : String</code>
<code>+ retriveResource() : Resource</code>
<code>+ confirm() : void</code> <code>+ cancel() : boolean</code>
<code>+ archive() : void</code></p>
<h4 id="class-bookingapi_impl">Class
<strong>BookingAPI_Impl</strong>:</h4>
<p><code>- activeBookings : BookingCollection [1]</code>
<code>- equipment : EquipmentCollection [1]</code>
<code>- rooms : RoomCollection [1]</code></p>
<p><code>+ addBooking(startDate: string, duration: int) : void</code>
<code>+ cancelBooking(bookingID: int): boolean</code>
<code>+ checkResourceAvail(ID: int)</code></p>
<h4 id="class-room">Class <strong>Room</strong>:</h4>
<p><code>- roomID: int [1]</code> <code>- roomName: string [1]</code>
<code>- capacity: int [1]</code>
<code>- isAvail: boolean [1] = true</code>
<code>status: string [1] = &quot;avaliable&quot;</code>
<code>- sqlHelper: RoomSqlHelper [1]</code></p>
<p><code>+ setStatus(status: string): void</code>
<code>+ getStatus(): string</code> <code>+ getName(): string</code>
<code>+ checkAvail(): boolean</code>
<code>+ getCapacity(): int</code></p>
<h4 id="class-equipment">Class <strong>Equipment</strong>:</h4>
<p><code>- equipmentID: int [1]</code>
<code>- equipmentType: string [1]</code>
<code>- depositAmount: int [1]</code>
<code>- status: int [1] = &quot;avaliable&quot;</code> `- sqlHelper:
EquipmentSqlHelper [1]</p>
<p><code>+ getID() : int</code>
<code>+ getEquipmentType() : string</code>
<code>+ getDepositAmount() : int</code>
<code>+ getStatus() : string</code>
<code>+ setStatus(status : string) : void</code> #### Class
<strong>StorageAPI_Impl</strong>:</p>
<p><code>- bookingSqlHelper: BookingSqlHelper</code>
<code>- resourceSqlHelper: ResourceSqlHelper</code></p>
<p><code>+ saveBooking(booking: Booking): boolean</code>
<code>+ updateBooking(booking: Booking): boolean</code>
<code>+ deleteBooking(bookingID: String): boolean</code></p>
<ol start="2" type="1">
<li></li>
</ol>
<p><strong><code>storageAPI -- StorageAPI_Impl</code></strong>
Relationship: Implementation Multiplicity: N/A Navigability:
<code>StorageAPI_Impl</code> to <code>StorageAPI</code></p>
<p><strong><code>BookingAPI_Impl -- BookingAPI</code></strong>
Relationship: Implementation Multiplicity: N/A Navigability:
<code>BookingAPI_Impl</code> to <code>BookingAPI</code></p>
<p><strong><code>BookingAPI_Impl -- BookingCollection</code></strong>
Relationship: Composition Multiplicity: 1 : 1 Navigability:
<code>BookingAPI_Impl</code> to <code>BookingAPI</code></p>
<p><strong><code>BookingAPI_Impl -- StorageAPI_Impl</code></strong>
Relationship: Aggregation Multiplicity: 1 to 1 Navigability:
<code>BookingAPI_Impl</code> to <code>StorageAPI_Impl</code></p>
<p><strong><code>Resource -- Equipment</code></strong> Relationship:
Inheritance Multiplicity: N/A Navigability: N/A</p>
<p><strong><code>BookingCollection -- Booking</code></strong>
Relationship: Aggregation Multiplicity: 1 : 0..* Navigability:
<code>BookingCollection</code> to <code>Booking</code></p>
<p><strong><code>Booking -- StorageAPI</code></strong> Relationship:
Aggregation Multiplicity: N/A Navigability: <code>Booking</code> to
<code>StorageAPI</code></p>
<p><strong><code>BookingSqlHelper -- SQLHelper</code></strong>
Relationship: Inheritance Navigability: <code>BookingSqlHelper</code> to
<code>SQLHelper</code></p>
<ol start="3" type="1">
<li><p><code>sql</code> has instance scope. This is because each
instance of an SQL Helper class must have its own unique query string,
therefore <code>sql</code> is directly attached to a specific instance
of a class.</p></li>
<li><p>Resource is an abstract class. This is because Resource
represents a general concept of a Room or Equipment in the CBS. It acts
as a base class for other classes that will provide the implementation
of manipulating resources. Resource requires a constructor, as it has
attributes that should be initialised such as
<code>ID, name, type</code>.</p></li>
<li><p>The attributes <code>ID, name, type, string</code> in
<code>Resource</code> must be kept private. This is important to
maintain encapsulation within the class and avoid unexpected behaviour.
All operations should remain public, so they can be accessed by other
classes such as <code>BookingAPI_Impl</code>. Any class attributes that
need to be accessed can do so through getter and setter
elements.</p></li>
<li><p>This is necessary because the return of equipment is triggered by
the staff who need to authorise the equipment return. The booking is
active until that point, so this is needed for termination of a booking,
therefore it must also release the deposit if applicable.</p></li>
</ol>
<h2 id="question-3">Question 3</h2>
<p>![[image-110.png]]</p>
<h2 id="question-4">Question 4</h2>
<p>![[image-112.png]]</p>
<h2 id="question-5">Question 5</h2>
<p><strong>Test 1: MakeABooking - Main Flow</strong></p>
<p>![[image-115.png]] ![[image-116.png|581x455]]</p>
<p><strong>Test 2: MakeABooking: InvalidBookingRequest - Alternative
Flow</strong></p>
<p>![[image-117.png]]![[image-119.png]]</p>
</body>
</html>
